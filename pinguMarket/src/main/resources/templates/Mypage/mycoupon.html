<!DOCTYPE html>
<div layout:decorate="~{Layout/layout}">
    <!-- *-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-* MAIN *-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*--*-*-*-*-*-*-*-*-*-* -->
    <main layout:fragment="content">
    <link rel="stylesheet" href="/MyPage/myPageStyle.css">
    <link rel="stylesheet" href="/MyPage/mycoupon.css">

        <div class="myPageContainer">
            <div class="myPageLeft">
                <div class="myInfo">
                    <p class="myName"><span th:text="${user.name}"></span>님</p>
                    <div class="myCard">
                        <div class="cardSaving">
                            <p>적립금</p>
                            <p><span class="cardMoney">0</span>원</p>
                        </div>
                        <div class="cardCash">
                            <p>캐쉬</p>
                            <p><span class="cardMoney">0</span>원</p>
                        </div>
                        <div class="cardMemberShip">
                            <p>멤버스 무료체험</p>
                        </div>
                    </div>
                </div>
                <div class="navContainer">
                    <ul>
                        <p>자주찾는 메뉴</p>
                        <li><a th:href="@{/myorder}">주문내역</a></li>
                        <li><a th:href="@{/mycoupon}">쿠폰</a></li>
                        <li><a href="#">찜한상품</a></li>
                        <li><a href="#">자주구매</a></li>
                    </ul>
                    <ul>
                        <p>쇼핑</p>
                        <li><a href="#">결제수단 or 00페이</a></li>
                        <li><a th:href="@{/myreview}">상품후기</a></li>
                        <li><a href="#">선물 내역</a></li>
                        <li><a href="#">상품 문의</a></li>
                    </ul>
                    <ul>
                        <p>혜택</p>
                        <li><a href="#">회사멤버스</a></li>
                    </ul>
                    <ul>
                        <p>내정보관리</p>
                        <li><a th:href="@{/usermodify}">개인정보 수정</a></li>
                        <li><a th:href="@{/mypage/editpw}">비밀번호 수정</a></li>
                        <li><a th:href="@{/signout}">회원 탈퇴</a></li>
                    </ul>
                    <ul>
                        <p>서비스안내</p>
                        <li><a href="#">퍼플박스</a></li>
                        <li><a href="#">VIP제도 안내</a></li>
                    </ul>
                </div>
            </div>
            <div class="myPageRight">
                <div class="myPageTitle">
                    
                    <p>내 쿠폰</p>

                    <div class="couponModal">
        				<div class="couponModalBody">
				            <h2>쿠폰 코드를 입력해주세요</h2>
				            <form id="couponInputForm">
					            <textarea id="codeInput" placeholder="쿠폰 코드를 입력해주세요" maxlength="20" required></textarea>
					            <div class="btn">
					            <input type="submit" name="codeBtn" id="codeBtn" value="등록">
					            <button class="modalCloseBtn">닫기</button>
					            </div>
				            </form>
        				</div>
   				 </div>
    			<div class="modalOpenDiv"><button class="openBtn">쿠폰 등록</button></div>
    			
    			<div class="description"><span>쿠폰을 등록하거나 사용하지 않은 쿠폰을 조회할 수 있습니다.</span></div>

                     <div class="couponHeader">
                        <span>쿠폰 일자</span>
                        <span>코드</span>
                        <span>할인 금액</span>
                     </div>

				    <!-- 쿠폰이 없을 때 표시 -->
				    <div th:if="${couponList.isEmpty()}">
				        쿠폰이 없습니다.
				    </div>
				    <!-- 쿠폰 반복 -->
				    <div class="couponListContainer"
				         th:each="coupon : ${couponList}">
				        <!-- 쿠폰 정보 -->
				        <div class="couponListInfo">
				            <span th:text="${#temporals.format(coupon.createDate, 'yyyy-MM-dd')}"></span>
				            <span th:text="${coupon.code}"></span>
				            <span th:text="${coupon.discount} + '원'"><p></p></span>
				        </div>

                   </div> <!-- couponListContainer 끝 -->
                </div>
            </div>
        </div>
    </main>
</div>
<script th:src="@{/MyPage/myCoupon.js}"></script>
